$(document).ready(function(){$("#cu-mapParking").click(function(e){e.preventDefault();var t=$("#cu-map");if(t.hasClass("cu-normalMap")){t.replaceWith('<iframe id="cu-map" class="cu-parkingMap" src="https://www.google.com/maps/embed/v1/search?key=AIzaSyD0gaXs9dAemZB7wXh-QWblUhK1tleHb0g&q=parking+near+420+3rd+street+suite+200,Oakland,CA,USA&zoom=15&center=37.796571,-122.275254"></iframe>');$("#cu-mapParking").text("Back to normal view?")}else{t.replaceWith('<iframe id="cu-map" class="cu-normalMap" src="https://www.google.com/maps/embed/v1/search?key=AIzaSyD0gaXs9dAemZB7wXh-QWblUhK1tleHb0g&q=420+3rd+street+suite+200,Oakland,CA,USA&zoom=11"></iframe>');$("#cu-mapParking").text("Looking for parking?")}});$("#cu-emailForm").on("change","#cu-formDrop",function(e){var t=$("#cu-otherSubjectWrapper");var n=$(this).val();if(n==="other"&&CONTACTUS.otherSubject===false){CONTACTUS.otherSubject=true;t.fadeIn().css("display","block")}else if(n!=="other"&&CONTACTUS.otherSubject===true){CONTACTUS.otherSubject=false;t.fadeOut()}});Recaptcha.create("6Lfk9PISAAAAAN7fgg4hoAcjuTHcD2QN0Fnmeddt","cu-recaptcha",{theme:"clean"});$("#cu-reset").click(function(e){e.preventDefault();$("#cu-emailForm")[0].reset()});$("#cu-emailForm").validate({debug:true,errorElement:"p",rules:{name:{required:true},email:{required:true,email:true},subject:{dropDown:true},writeSubject:{required:{depends:function(e){return CONTACTUS.otherSubject}},minlength:5},message:{required:true,minlength:10},recaptcha_response_field:{required:true}},messages:{name:{required:"Hello, we think you might have forgotten to tell us your name."},email:{required:"We noticed that the email address is blank, it is important for us to reach back to you.",email:"Your email address seen to be invalid, could you double check that?"},subject:{dropDown:"A subject for your email is very important so we can better serve you."},writeSubject:{required:"A subject for your email is very important so we can better serve you.",minlength:"Your subject is very short, a longer subject will help us understand you better (minimum of 5 characters)"},message:{required:"Your message seen to be missing, we would love to hear what you have to say.",minlength:"Your message is very short, could you tell us more? (minimum of 10 characters)"},recaptcha_response_field:{required:"Looks like you forgot to enter the captcha, we need to know you are actually human."}},submitHandler:function(e){var t,n,r,i,s,o,u;t=$(e).find("#cu-formName").val();n=$(e).find("#cu-formEmail").val();if(CONTACTUS.otherSubject){r=$(e).find("#cu-otherSubject").val()}else{r=$(e).find("#cu-formDrop").val()}i=$(e).find("#cu-formMessage").val();s=$(e).find("#recaptcha_response_field").val();o=$(e).find("#recaptcha_challenge_field").val();u={name:t,email:n,subject:r,message:i,recaptcha_response_field:s,recaptcha_challenge_field:o};$.ajax({type:"post",url:"api/email.php",data:u,dataType:"json",success:function(e){if(e.code===0){$("#cu-serverSide").html(e.message).css("display","block")}else if(e.code===2){$("#cu-serverSide").html(e.message).css("display","block");Recaptcha.reload()}else{$("#cu-emailForm > fieldset > .form").fadeOut(function(){$("#cu-emailForm > fieldset > .success").fadeIn()})}},error:function(e,t,n){console.log(e);console.log(t);console.log(n)}})}})});var CONTACTUS={otherSubject:false};$.validator.addMethod("dropDown",function(e,t){if(e!==$(t).children(":first").attr("value")){return true}else{return false}},"Please select an option from the drop down")